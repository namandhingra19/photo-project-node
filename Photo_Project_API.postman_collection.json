{
	"info": {
		"_postman_id": "photo-project-api-collection",
		"name": "Photo Project API",
		"description": "Complete API collection for Photo Project Enterprise App Backend",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "photo-project"
	},
	"item": [
		{
			"name": "Health & Info",
			"item": [
				{
					"name": "Health Check",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/health",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"health"
							]
						},
						"description": "Check if the API server is running and healthy"
					},
					"response": []
				},
				{
					"name": "Root Endpoint",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								""
							]
						},
						"description": "Get API information and available endpoints"
					},
					"response": []
				},
				{
					"name": "API Documentation",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api-docs/",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api-docs",
								""
							]
						},
						"description": "Access Swagger API documentation"
					},
					"response": []
				}
			]
		},
		{
			"name": "Authentication",
			"item": [
				{
					"name": "Check Email",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"user@example.com\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/auth/check-email",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"auth",
								"check-email"
							]
						},
						"description": "Check if email exists in database. Returns whether password is required or verification email was sent."
					},
					"response": []
				},
				{
					"name": "Login (Email/Password)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"user@example.com\",\n  \"password\": \"password123\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/auth/login",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"auth",
								"login"
							]
						},
						"description": "Login with email and password. If user doesn't exist, sends verification email."
					},
					"response": []
				},
				{
					"name": "Login (Email Only)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"newuser@example.com\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/auth/login",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"auth",
								"login"
							]
						},
						"description": "Login with email only - triggers verification email for new users"
					},
					"response": []
				},
				{
					"name": "Verify Email",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"user@example.com\",\n  \"name\": \"John Doe\",\n  \"role\": \"ENTERPRISE\",\n  \"verificationToken\": \"verification-token-from-email\",\n  \"password\": \"password123\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/auth/verify-email",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"auth",
								"verify-email"
							]
						},
						"description": "Verify email and create account with role selection and optional password"
					},
					"response": []
				},
				{
					"name": "Google OAuth Login",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/auth/google",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"auth",
								"google"
							]
						},
						"description": "Initiate Google OAuth login flow"
					},
					"response": []
				},
				{
					"name": "Google OAuth Role Selection",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"user@gmail.com\",\n  \"name\": \"John Doe\",\n  \"role\": \"CLIENT\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/auth/google/role-selection",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"auth",
								"google",
								"role-selection"
							]
						},
						"description": "Complete Google OAuth with role selection for new users"
					},
					"response": []
				},
				{
					"name": "Refresh Token",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"refreshToken\": \"your-refresh-token-here\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/auth/refresh",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"auth",
								"refresh"
							]
						},
						"description": "Refresh access token using refresh token"
					},
					"response": []
				},
				{
					"name": "Logout",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"refreshToken\": \"your-refresh-token-here\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/auth/logout",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"auth",
								"logout"
							]
						},
						"description": "Logout user and invalidate refresh token"
					},
					"response": []
				},
				{
					"name": "Get Profile",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/auth/profile",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"auth",
								"profile"
							]
						},
						"description": "Get current user profile information"
					},
					"response": []
				}
			]
		},
		{
			"name": "Projects",
			"item": [
				{
					"name": "Create Project",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"title\": \"Wedding Photography - Smith & Johnson\",\n  \"description\": \"Beautiful outdoor wedding ceremony and reception photography\",\n  \"event_date\": \"2024-06-15T14:00:00Z\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/projects",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"projects"
							]
						},
						"description": "Create a new photography project"
					},
					"response": []
				},
				{
					"name": "Get All Projects",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/projects?page=1&limit=10&search=wedding",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"projects"
							],
							"query": [
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "limit",
									"value": "10"
								},
								{
									"key": "search",
									"value": "wedding"
								}
							]
						},
						"description": "Get all projects for the authenticated user's tenant"
					},
					"response": []
				},
				{
					"name": "Get Project by ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/projects/{{project_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"projects",
								"{{project_id}}"
							]
						},
						"description": "Get a specific project by ID with albums and collaborators"
					},
					"response": []
				},
				{
					"name": "Update Project",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"title\": \"Updated Wedding Photography\",\n  \"description\": \"Updated description\",\n  \"status\": \"ACTIVE\",\n  \"is_active\": true\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/projects/{{project_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"projects",
								"{{project_id}}"
							]
						},
						"description": "Update project details"
					},
					"response": []
				},
				{
					"name": "Delete Project",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/projects/{{project_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"projects",
								"{{project_id}}"
							]
						},
						"description": "Delete a project (soft delete)"
					},
					"response": []
				},
				{
					"name": "Add Collaborator",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"user_profile_id\": \"user_profile_id_here\",\n  \"accessibility\": \"VIEW_ONLY\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/projects/{{project_id}}/collaborators",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"projects",
								"{{project_id}}",
								"collaborators"
							]
						},
						"description": "Add a collaborator to a project"
					},
					"response": []
				}
			]
		},
		{
			"name": "Albums",
			"item": [
				{
					"name": "Create Album",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"project_id\": \"{{project_id}}\",\n  \"title\": \"Ceremony Photos\",\n  \"description\": \"Wedding ceremony photos\",\n  \"cover_image\": \"https://example.com/cover.jpg\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/albums",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"albums"
							]
						},
						"description": "Create a new album for a project"
					},
					"response": []
				},
				{
					"name": "Get Albums for Project",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/albums/project/{{project_id}}?page=1&limit=10&search=ceremony",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"albums",
								"project",
								"{{project_id}}"
							],
							"query": [
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "limit",
									"value": "10"
								},
								{
									"key": "search",
									"value": "ceremony"
								}
							]
						},
						"description": "Get all albums for a specific project"
					},
					"response": []
				},
				{
					"name": "Get Album by ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/albums/{{album_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"albums",
								"{{album_id}}"
							]
						},
						"description": "Get a specific album with all photos"
					},
					"response": []
				},
				{
					"name": "Update Album",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"title\": \"Updated Album Title\",\n  \"description\": \"Updated description\",\n  \"cover_image\": \"https://example.com/new-cover.jpg\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/albums/{{album_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"albums",
								"{{album_id}}"
							]
						},
						"description": "Update album details"
					},
					"response": []
				},
				{
					"name": "Delete Album",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/albums/{{album_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"albums",
								"{{album_id}}"
							]
						},
						"description": "Delete an album (soft delete)"
					},
					"response": []
				}
			]
		},
		{
			"name": "Photos",
			"item": [
				{
					"name": "Upload Single Photo",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "photo",
									"type": "file",
									"src": "/path/to/your/image.jpg"
								}
							]
						},
						"url": {
							"raw": "{{base_url}}/api/photos/upload/{{album_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"photos",
								"upload",
								"{{album_id}}"
							]
						},
						"description": "Upload a single photo to an album"
					},
					"response": []
				},
				{
					"name": "Bulk Upload Photos",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "photos",
									"type": "file",
									"src": "/path/to/image1.jpg"
								},
								{
									"key": "photos",
									"type": "file",
									"src": "/path/to/image2.jpg"
								},
								{
									"key": "photos",
									"type": "file",
									"src": "/path/to/image3.jpg"
								}
							]
						},
						"url": {
							"raw": "{{base_url}}/api/photos/bulk-upload/{{album_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"photos",
								"bulk-upload",
								"{{album_id}}"
							]
						},
						"description": "Upload multiple photos to an album at once"
					},
					"response": []
				},
				{
					"name": "Get Photos for Album",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/photos/album/{{album_id}}?page=1&limit=20&search=wedding",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"photos",
								"album",
								"{{album_id}}"
							],
							"query": [
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "limit",
									"value": "20"
								},
								{
									"key": "search",
									"value": "wedding"
								}
							]
						},
						"description": "Get all photos for a specific album"
					},
					"response": []
				},
				{
					"name": "Get Photo by ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/photos/{{photo_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"photos",
								"{{photo_id}}"
							]
						},
						"description": "Get a specific photo by ID"
					},
					"response": []
				},
				{
					"name": "Get Signed URL for Photo",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/photos/{{photo_id}}/signed-url?expiresIn=3600",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"photos",
								"{{photo_id}}",
								"signed-url"
							],
							"query": [
								{
									"key": "expiresIn",
									"value": "3600"
								}
							]
						},
						"description": "Get a signed URL for secure photo access"
					},
					"response": []
				},
				{
					"name": "Delete Photo",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/photos/{{photo_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"photos",
								"{{photo_id}}"
							]
						},
						"description": "Delete a photo (soft delete)"
					},
					"response": []
				}
			]
		},
		{
			"name": "AI Microservice Proxy",
			"item": [
				{
					"name": "AI Health Check",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/ai/health",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"ai",
								"health"
							]
						},
						"description": "Check if the AI microservice is responding"
					},
					"response": []
				},
				{
					"name": "Get AI Models",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{base_url}}/api/ai/models",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"ai",
								"models"
							]
						},
						"description": "Get available AI models (requires authentication)"
					},
					"response": []
				},
				{
					"name": "Generate AI Content",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"prompt\": \"Generate a description for this photo\",\n  \"image_url\": \"https://example.com/image.jpg\",\n  \"style\": \"professional\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/ai/generate",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"ai",
								"generate"
							]
						},
						"description": "Generate AI content (requires authentication)"
					},
					"response": []
				},
				{
					"name": "Analyze Image",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"image_url\": \"https://example.com/image.jpg\",\n  \"analysis_type\": \"objects\",\n  \"confidence_threshold\": 0.8\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/ai/analyze",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"ai",
								"analyze"
							]
						},
						"description": "Analyze image content (requires authentication)"
					},
					"response": []
				},
				{
					"name": "Classify Image",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"image_url\": \"https://example.com/image.jpg\",\n  \"categories\": [\"nature\", \"portrait\", \"landscape\", \"architecture\"],\n  \"return_probabilities\": true\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/ai/classify",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"ai",
								"classify"
							]
						},
						"description": "Classify image content (requires authentication)"
					},
					"response": []
				}
			],
			"description": "AI Microservice Proxy endpoints with JWT authentication and basic auth forwarding"
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:3000",
			"type": "string"
		},
		{
			"key": "access_token",
			"value": "",
			"type": "string"
		},
		{
			"key": "refresh_token",
			"value": "",
			"type": "string"
		},
		{
			"key": "project_id",
			"value": "",
			"type": "string"
		},
		{
			"key": "album_id",
			"value": "",
			"type": "string"
		},
		{
			"key": "photo_id",
			"value": "",
			"type": "string"
		}
	]
}

